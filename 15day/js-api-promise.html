<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    // promise와 api 요청
    async function apiTest1() {
      // fetch('https://jsonplaceholder.typicode.com/todos/1')   // web api get 요청
      //   .then(response => response.json())      // fetch return값은 promise 객체
      //   .then(json => {
      //     console.log(json);
      //     //alert(JSON.stringify(json));
      //     
      //     first();
      //     second();
      //   });
      const response = await fetch('https://jsonplaceholder.typicode.com/todos/1')
      const jsonData = await response.json();
      console.log(jsonData);
    }

    function first() {
      console.log('1번함수');
    }

    function second() {
      console.log('2번함수');
    }

    // await는 async가 붙거나 promise객체인 경우에만 사용
    async function execute1() {
      await apiTest1();  // 1
      first();     // 2
      second();    // 3
    }
    
    execute1();
  </script>
</head>
<body>
  
</body>
</html>